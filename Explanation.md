1. Напишем проект для создания Docker-сервиса, состоящего из двух различных контейнеров - веб-сервера и базы данных. Создадим файл docker-compose.yml, который определяет два сервиса: web и db.  В этом файле используется формат YAML для описания структуры вашего Docker-сервиса. Должна получиться следующая структура каталога:
- myproject
 - docker-compose.yml
 - web
  - Dockerfile
  - index.html
Сервис web создается из Docker-образа, собираемого на основе файла Dockerfile в каталоге web. Контейнер web будет доступен на порту 80.
Сервис db создается на основе официального Docker-образа базы данных PostgreSQL. Здесь мы также определяем переменные окружения для настройки пользователя, пароля и имени базы данных.
Выполните следующие действия, чтобы запустить сервис:
1. Установите Docker, если у вас его нет.
2. Создайте структуру каталога, как указано выше.
3. Поместите ваш веб-код в файл web/index.html.
4. Создайте Docker-образ для веб-сервера, создав файл web/Dockerfile с необходимыми инструкциями.
5. Откройте командную строку в каталоге myproject, где находится файл docker-compose.yml.
6. Запустите команду docker-compose up для создания и запуска контейнеров.
Теперь ваш сервис должен быть доступен на порту 80 вашей машины. Проверьте, открыв веб-браузер и пройдя по адресу http://localhost

2.  Чтобы создать 3 сервиса в каждом окружении (dev, prod, lab), можно использовать механизм переменных окружения в Docker Compose. 